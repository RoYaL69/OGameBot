<div layout="row" class="home" layout-fill>
    <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
        <md-toolbar class="md-tall md-hue-2">
            <span flex></span>
            <div layout="column" class="md-toolbar-tools-bottom inset">
                <user-avatar></user-avatar>
                <span></span>
                <div>{{vm.user.firstName}} {{vm.user.lastName}}</div>
                <div>{{vm.user.username}}</div>
            </div>
        </md-toolbar>
        <md-list>
            <md-item ng-repeat="item in menu" > <!--href="{{item.link}}"-->
                <md-button style="width: 100%" ng-click="vm.goTo(item.link)">
                    <md-item-content md-ink-ripple layout="row" layout-align="start center">
                        <div class="inset">
                            <ng-md-icon icon="{{item.icon}}"></ng-md-icon>
                        </div>
                        <div class="inset">{{item.title}}
                        </div>
                    </md-item-content>
                </md-button>
                <br>
            </md-item>
            <md-divider></md-divider>
            <md-subheader>Management</md-subheader>
            <md-item ng-repeat="item in admin">
                <md-button style="width: 100%">
                    <md-item-content md-ink-ripple layout="row" layout-align="start center">
                        <div class="inset">
                            <ng-md-icon icon="{{item.icon}}"></ng-md-icon>
                        </div>
                        <div class="inset">{{item.title}}
                        </div>
                    </md-item-content>
                </md-button>
                <br>
            </md-item>
            <md-divider></md-divider>
            <md-button style="width: 100%" href="#!/login">
                <md-item-content md-ink-ripple layout="row" layout-align="start center">
                    <div class="inset">
                        <ng-md-icon icon="logout"></ng-md-icon>
                    </div>
                    <div class="inset">Logout
                    </div>
                </md-item-content>
            </md-button>
        </md-list>
    </md-sidenav>
    <div layout="column" class="relative" layout-fill role="main">
        <md-button class="md-fab md-fab-bottom-right" id="add" aria-label="Add" ng-click="showAdd($event)">
            <ng-md-icon icon="add"></ng-md-icon>
        </md-button>
        <md-toolbar ng-show="!showSearch">
            <div class="md-toolbar-tools">
                <md-button ng-click="toggleSidenav('left')" hide-gt-md aria-label="Menu">
                    <ng-md-icon icon="menu"></ng-md-icon>
                </md-button>
                <h3>
                    {{title}}
                </h3>
                <span flex></span>
                <md-button aria-label="Search" ng-click="showSearch = !showSearch">
                    <ng-md-icon icon="search"></ng-md-icon>
                </md-button>
                <md-button aria-label="Open Settings" ng-click="vm.showListBottomSheet($event)">
                    <ng-md-icon icon="more_vert"></ng-md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-toolbar class="md-hue-1" ng-show="showSearch">
            <div class="md-toolbar-tools">
                <md-button ng-click="showSearch = !showSearch" aria-label="Back">
                    <ng-md-icon icon="arrow_back"></ng-md-icon>
                </md-button>
                <h3 flex="10">
                    Back
                </h3>
                <md-input-container md-theme="input" flex>
                    <label>&nbsp;</label>
                    <input ng-model="search.who" placeholder="enter search">
                </md-input-container>
                <md-button aria-label="Search" ng-click="showSearch = !showSearch">
                    <ng-md-icon icon="search"></ng-md-icon>
                </md-button>
                <md-button aria-label="Open Settings" ng-click="vm.showListBottomSheet($event)">
                    <ng-md-icon icon="more_vert"></ng-md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <div ui-view style="display: flex; height: 100%;"></div>

    </div>
</div>